!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self,t.PlainScroll=e())}(this,function(){"use strict";var t={linear:function(t){return t},easeIn:function(t){return t*t},easeOut:function(t){return t*(2-t)},easeInOut:function(t){return t<.5?2*t*t:(4-2*t)*t-1}};return function(){function e(e){var n=void 0===e?{}:e,o=n.trigger,i=void 0===o?".plain-scroll":o,r=n.duration,s=void 0===r?1e3:r,a=n.easing,u=void 0===a?"easeOut":a,c=n.onScrollStart,l=void 0===c?function(){}:c,d=n.onScrollEnd,f=void 0===d?function(){}:d,p=this;this.options={trigger:i,duration:s,easing:u,onScrollStart:l,onScrollEnd:f},this.start={position:0,time:0},this.end={position:0},this.ease=t;var m=document.querySelectorAll(this.options.trigger);Array.from(m).forEach(function(t){var e=document.getElementById(t.getAttribute("href").replace("#",""));t.addEventListener("click",function(t){t.preventDefault(),p.options.onScrollStart(),p.start.time=(new Date).getTime(),p.start.position=window.scrollY,p.end.position=p.getOffset(e).top-p.start.position,p.animate()})})}return e.prototype.animate=function(){var t=this,e=(new Date).getTime()-this.start.time,n=e>=this.options.duration,o=e/this.options.duration;o=o>1?1:o;var i=this.ease[this.options.easing](o)*this.end.position+this.start.position;window.scrollTo(0,i),n?(window.cancelAnimationFrame(this.requestFrame),this.options.onScrollEnd()):this.requestFrame=window.requestAnimationFrame(function(){return t.animate()})},e.prototype.getOffset=function(t){var e=t.getBoundingClientRect();return{top:e.top+window.pageYOffset-document.documentElement.clientTop,left:e.left+window.pageXOffset-document.documentElement.clientLeft}},e}()});
